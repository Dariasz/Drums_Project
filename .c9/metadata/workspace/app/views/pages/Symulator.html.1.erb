{"filter":false,"title":"Symulator.html.1.erb","tooltip":"/app/views/pages/Symulator.html.1.erb","undoManager":{"mark":34,"position":34,"stack":[[{"start":{"row":70,"column":0},"end":{"row":80,"column":3},"action":"remove","lines":["  function hasDuplicates(array) {","    var valuesSoFar = Object.create(null);","    for (var i = 0; i < array.length; ++i) {","        var value = array[i];","        if (value in valuesSoFar) {","            return true;","        }","        valuesSoFar[value] = true;","    }","    return false;","  }"],"id":2}],[{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"remove","lines":["",""],"id":3}],[{"start":{"row":73,"column":0},"end":{"row":73,"column":10},"action":"remove","lines":["var binds;"],"id":4}],[{"start":{"row":72,"column":0},"end":{"row":73,"column":0},"action":"remove","lines":["",""],"id":5}],[{"start":{"row":71,"column":2},"end":{"row":72,"column":0},"action":"remove","lines":["",""],"id":6}],[{"start":{"row":29,"column":0},"end":{"row":45,"column":14},"action":"remove","lines":["        <div class=\"dropdown\" style=\"float: right;\">","          <button class=\"btn btn-default dropdown-toggle\" type=\"button\" id=\"dropdownMenu1\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\">","            Keybinds","            <span class=\"caret\"></span>","          </button>","          <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenu1\">","            <div style=\"padding: 15px;\">","              <div id=\"keybinds\">","                <li id=\"erormessage\" style=\"display: none;\">Nie można zbindować tego samego klawisza 2 razy </li>","              </div>","","","              <li role=\"separator\" class=\"divider\"></li>","              <li><button class=\"btn btn-info\" onClick=\"drums.validateInput();\" id=\"keybindbutton\" style=\"width: 100%;\">Zapisz</button></li>","          </div>","          </ul>","        </div>"],"id":7}],[{"start":{"row":81,"column":0},"end":{"row":83,"column":10},"action":"remove","lines":["         if (binds === undefined){","           binds = this.samples;","         }"],"id":8}],[{"start":{"row":80,"column":18},"end":{"row":81,"column":0},"action":"remove","lines":["",""],"id":9}],[{"start":{"row":81,"column":61},"end":{"row":81,"column":69},"action":"remove","lines":[" // test"],"id":10}],[{"start":{"row":81,"column":24},"end":{"row":81,"column":29},"action":"remove","lines":["binds"],"id":11},{"start":{"row":81,"column":24},"end":{"row":81,"column":25},"action":"insert","lines":["t"]}],[{"start":{"row":81,"column":25},"end":{"row":81,"column":26},"action":"insert","lines":["h"],"id":12}],[{"start":{"row":81,"column":26},"end":{"row":81,"column":27},"action":"insert","lines":["i"],"id":13}],[{"start":{"row":81,"column":27},"end":{"row":81,"column":28},"action":"insert","lines":["s"],"id":14}],[{"start":{"row":81,"column":28},"end":{"row":81,"column":29},"action":"insert","lines":["."],"id":15}],[{"start":{"row":81,"column":29},"end":{"row":81,"column":30},"action":"insert","lines":["s"],"id":16}],[{"start":{"row":81,"column":30},"end":{"row":81,"column":31},"action":"insert","lines":["a"],"id":17}],[{"start":{"row":81,"column":31},"end":{"row":81,"column":32},"action":"insert","lines":["m"],"id":18}],[{"start":{"row":81,"column":32},"end":{"row":81,"column":33},"action":"insert","lines":["p"],"id":19}],[{"start":{"row":81,"column":33},"end":{"row":81,"column":34},"action":"insert","lines":["l"],"id":20}],[{"start":{"row":81,"column":34},"end":{"row":81,"column":35},"action":"insert","lines":["e"],"id":21}],[{"start":{"row":81,"column":35},"end":{"row":81,"column":36},"action":"insert","lines":["s"],"id":22}],[{"start":{"row":100,"column":0},"end":{"row":104,"column":8},"action":"remove","lines":["      generateKeybinds() {","        this.samples.forEach( (sample) => $(\"#keybinds\").append(","        '<li><div class=\"input-group\" style=\"padding: 2px;\"><span class=\"input-group-addon\" id=\"basic-addon1\">'+sample+'</span><input type=\"text\" maxlength=\"1\" class=\"form-control keybindinput\" id=\"keybindinput'+sample+'\" aria-describedby=\"basic-addon1\"></div></li>'","        ))","      },"],"id":23}],[{"start":{"row":99,"column":0},"end":{"row":100,"column":0},"action":"remove","lines":["",""],"id":24}],[{"start":{"row":101,"column":0},"end":{"row":112,"column":8},"action":"remove","lines":["      checkAndBind() {","        this.samples.forEach( (sample) => {","          var value = $(\"#keybindinput\"+sample).val();","          if ( /([a-z+0-9])/.test( value ) ) {","            keyboardJS.unbind(binds[this.samples.indexOf(sample)]);","            keyboardJS.unbind(value);","            keyboardJS.bind(value, function(e) { drums.play(sample )} );","          }","","","        })","      },"],"id":25}],[{"start":{"row":100,"column":0},"end":{"row":101,"column":0},"action":"remove","lines":["",""],"id":26}],[{"start":{"row":102,"column":0},"end":{"row":115,"column":7},"action":"remove","lines":["      validateInput() {","        var value = [];","        var times = 0;","        this.samples.forEach( (sample) => {","        value[times] = $(\"#keybindinput\"+sample).val();","        });","        if (hasDuplicates(value)) {","        $('#erormessage').hide();","        drums.checkAndBind();","        }","        else{","          $('#erormessage').show();","        }","      }"],"id":27}],[{"start":{"row":101,"column":6},"end":{"row":102,"column":0},"action":"remove","lines":["",""],"id":28}],[{"start":{"row":101,"column":4},"end":{"row":101,"column":6},"action":"remove","lines":["  "],"id":29}],[{"start":{"row":101,"column":2},"end":{"row":101,"column":4},"action":"remove","lines":["  "],"id":30}],[{"start":{"row":101,"column":0},"end":{"row":101,"column":2},"action":"remove","lines":["  "],"id":31}],[{"start":{"row":100,"column":0},"end":{"row":101,"column":0},"action":"remove","lines":["",""],"id":32}],[{"start":{"row":98,"column":7},"end":{"row":98,"column":8},"action":"remove","lines":[","],"id":33}],[{"start":{"row":112,"column":0},"end":{"row":114,"column":13},"action":"remove","lines":["          $('.dropdown-menu #keybindbutton').click(function(e) {","              e.stopPropagation();","          });"],"id":34}],[{"start":{"row":111,"column":0},"end":{"row":111,"column":35},"action":"remove","lines":["          drums.generateKeybinds();"],"id":35}],[{"start":{"row":110,"column":35},"end":{"row":111,"column":0},"action":"remove","lines":["",""],"id":36}]]},"ace":{"folds":[],"scrolltop":1320,"scrollleft":0,"selection":{"start":{"row":110,"column":35},"end":{"row":110,"column":35},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":78,"state":"js-start","mode":"ace/mode/html_ruby"}},"timestamp":1472763901019,"hash":"b019eceb7f2d6f0bc1b1696966cb5e52582a8ca2"}